<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="static/images.png">      
    <link rel="stylesheet" href="static/style.css">
    <title>Room Details</title>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">Rao Appartment</div>
            <h1>Room Details - {{ room_no }}</h1>
        </header>
        <main>
            {% if tenant %}
            <div class="card">
                <table>
                    <thead>
                        <tr>
                            <th>Room No.</th>
                            <th>Month</th>
                            <th>Rent</th>
                            <th>Parking</th>
                            <th>Water</th>
                            <th>Late Penalty</th>
                            <th>Total Rent</th>
                            <th>Balance</th>
                            <th>Current Due</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td data-label="Room No.">{{ tenant['Room No.'] }}</td>
                            <td data-label="Month" id="monthDisplay">{{ tenant['Month'] }}</td>
                            <td data-label="Rent">{{ tenant['Rent'] }}</td>
                            <td data-label="Parking">{{ tenant['Parking'] }}</td>
                            <td data-label="Water">{{ tenant['Water'] }}</td>
                            <td data-label="Late Penalty">{{ tenant['Late Penalty'] }}</td>
                            <td data-label="Total Rent">{{ tenant['Total Rent'] }}</td>
                            <td data-label="Balance">{{ tenant['Balance'] }}</td>
                            <td data-label="Current Due">{{ tenant['Current Due'] }}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            {% else %}
            <div class="card">
                <p class="no-data">No data found for Room No. {{ room_no }}. Please contact the management office for assistance.</p>
            </div>
            {% endif %}
            <h1>Rent must be paid by 10th of the month else penalty of Rs.200 will be charged.</h1>
        </main>
    </div>

    <script>
        function getMonthName(monthNumber) {
            const months = [
                "January", "February", "March", "April", "May", "June",
                "July", "August", "September", "October", "November", "December"
            ];
            return months[monthNumber - 1];
        }

        let fullDate = "{{ tenant['Month'] }}";
        let numericMonth = parseInt(fullDate.split('-')[1], 10);
        let monthName = getMonthName(numericMonth);

        document.getElementById('monthDisplay').innerText = monthName + ' ' + fullDate.split('-')[0];
    </script>
</body>
</html>
